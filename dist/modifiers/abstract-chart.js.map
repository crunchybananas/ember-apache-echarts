{"version":3,"file":"abstract-chart.js","sources":["../../src/modifiers/abstract-chart.ts"],"sourcesContent":["// @ts-expect-error: follow up on this\nimport { merge } from 'lodash-es';\n// @ts-expect-error: follow up on this\nimport { transform } from 'lodash-es';\nimport { registerDestructor } from '@ember/destroyable';\nimport Modifier from 'ember-modifier';\nimport { init, type EChartsCoreOption, type EChartsType, use } from 'echarts/core';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { TitleComponent, type TitleComponentOption } from 'echarts/components';\nimport { LegendComponent, type LegendComponentOption } from 'echarts/components';\nimport { GridComponent, type GridComponentOption } from 'echarts/components';\nimport { TooltipComponent, type TooltipComponentOption } from 'echarts/components';\nimport { DataZoomComponent, type DataZoomComponentOption } from 'echarts/components';\nimport { GraphicComponent } from 'echarts/components';\nimport { LineChart, type LineSeriesOption } from 'echarts/charts';\nimport { BarChart, type BarSeriesOption } from 'echarts/charts';\nimport { PieChart, type PieSeriesOption } from 'echarts/charts';\nimport { TreeChart, type TreeSeriesOption } from 'echarts/charts';\nimport { GraphChart, type GraphSeriesOption } from 'echarts/charts';\nimport onElementResize from '../utils/on-element-resize.ts';\nimport getUniqueDatasetValues from '../utils/data/get-unique-dataset-values.ts';\nimport computeInnerBox from '../utils/layout/compute-inner-box.ts';\nimport computeMaxTextMetrics from '../utils/layout/compute-max-text-metrics.ts';\nimport computeTextHeight from '../utils/layout/compute-text-height.ts';\nimport computeTextMetrics from '../utils/layout/compute-text-metrics.ts';\nimport layoutCells from '../utils/layout/layout-cells.ts';\nimport resolveStyle from '../utils/style/resolve-style.ts';\nimport mergeAtPaths from '../utils/merge-at-paths.ts';\n\ntype ChartArgs = {\n  title?: string;\n  legend?: string;\n  xAxisZoom?: string;\n  yAxisZoom?: string;\n  xAxisZoomBrush?: boolean;\n  yAxisZoomBrush?: boolean;\n  series?: { data: unknown[]; label?: string; name?: string }[];\n  data?: unknown[];\n  colorMap?: Record<string, string>;\n  categoryProperty?: string;\n  [key: string]: unknown;\n};\n\ntype Context = {\n  layout: Layout;\n  args: ChartArgs;\n  chart: EChartsType;\n  styles: Record<string, Style>;\n  data: {\n    series: { data: unknown[]; label?: string; name?: string }[];\n  };\n};\n\ntype Layout = {\n  chartWidth: number;\n  chartHeight: number;\n  width: number;\n  height: number;\n  x: number;\n  y: number;\n  cell?: {\n    yOffset: number;\n  };\n};\n\ntype Style = {\n  [key: string]: string | number;\n};\n\ntype BoxConfig = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  marginTop: number;\n  marginBottom: number;\n  marginLeft: number;\n  marginRight: number;\n  borderTopWidth: number;\n  borderBottomWidth: number;\n  borderLeftWidth: number;\n  borderRightWidth: number;\n  backgroundColor?: string;\n  borderTopColor?: string;\n  borderBottomColor?: string;\n  borderLeftColor?: string;\n  borderRightColor?: string;\n};\n\ntype TitleConfig = {\n  text: string;\n  top: number;\n  left?: number;\n  right?: number;\n  textAlign?: string;\n  backgroundColor?: string;\n  borderWidth?: number;\n  borderColor?: string;\n  borderRadius?: number;\n  padding?: [number, number, number, number];\n  textStyle: {\n    color: string;\n    fontStyle: string;\n    fontWeight: string;\n    fontFamily: string;\n    fontSize: number;\n  };\n};\n\ntype LegendConfig = {\n  type: string;\n  data: { name: string; icon: string; itemStyle: { color?: string } }[];\n  itemGap: number;\n  align: string;\n  width: number;\n  orient: string;\n  backgroundColor?: string;\n  borderWidth?: number;\n  borderColor?: string;\n  borderRadius?: number;\n  padding?: [number, number, number, number];\n  textStyle: {\n    color: string;\n    fontStyle: string;\n    fontWeight: string;\n    fontFamily: string;\n    fontSize: number;\n  };\n  top?: number;\n  bottom?: number;\n  left?: number;\n  right?: number;\n};\n\ntype DataZoomConfig = {\n  type: string;\n  brushSelect: boolean;\n  borderColor?: string;\n  show: boolean;\n  start: number;\n  end: number;\n  top?: number;\n  bottom?: number;\n  left?: number;\n  right?: number;\n  xAxisIndex?: number[];\n  yAxisIndex?: number[];\n};\n\ntype TextConfig = {\n  type: string;\n  style: {\n    font: string;\n    fill: string;\n    text: string;\n  };\n  silent: boolean;\n  z: number;\n  left?: number;\n  right?: number;\n  top?: number;\n  bottom?: number;\n};\n\ntype GraphicElement = {\n  type: string;\n  top: number;\n  left: number;\n  shape: {\n    width: number;\n    height: number;\n  };\n  style: {\n    fill: string;\n    stroke: string;\n    lineWidth: number;\n  };\n  silent: boolean;\n};\n\ntype GraphicConfig = {\n  'graphic.elements': GraphicElement[];\n};\n\n// type EChartsConfig = {\n//   title?: TitleConfig[];\n//   legend?: LegendConfig;\n//   dataZoom?: DataZoomConfig[];\n//   'graphic.elements'?: GraphicElement[];\n// };\n\ntype EChartsOptionWithGraphic = EChartsCoreOption & {\n  graphic?: GraphicConfig;\n};\n\ntype EChartsOptionWithTitle = EChartsCoreOption & {\n  title?: TitleComponentOption[];\n};\n\ntype EChartsOptionWithLegend = EChartsCoreOption & {\n  legend?: LegendComponentOption;\n};\n\ntype EChartsOptionWithDataZoom = EChartsCoreOption & {\n  dataZoom?: DataZoomComponentOption[];\n};\n\ntype EChartsOptionWithTooltip = EChartsCoreOption & {\n  tooltip?: TooltipComponentOption;\n};\n\ntype EChartsOptionWithGrid = EChartsCoreOption & {\n  grid?: GridComponentOption[];\n};\n\ntype EChartsOptionWithSeries = EChartsCoreOption & {\n  series?: (\n    | LineSeriesOption\n    | BarSeriesOption\n    | PieSeriesOption\n    | TreeSeriesOption\n    | GraphSeriesOption\n  )[];\n};\n\ntype EChartsOptionWithAll = EChartsOptionWithGraphic &\n  EChartsOptionWithTitle &\n  EChartsOptionWithLegend &\n  EChartsOptionWithDataZoom &\n  EChartsOptionWithTooltip &\n  EChartsOptionWithGrid &\n  EChartsOptionWithSeries;\n\nuse([\n  CanvasRenderer,\n  TitleComponent,\n  LegendComponent,\n  GridComponent,\n  TooltipComponent,\n  DataZoomComponent,\n  GraphicComponent,\n  LineChart,\n  BarChart,\n  PieChart,\n  TreeChart,\n  GraphChart,\n]);\n\n// These should be composite properties so they can be overridden either by\n// composite properties or individual constituent properties\nconst baseStyle = {\n  border: '0px solid #000',\n  font: 'bold 16px Montserrat,sans-serif',\n  color: '#000',\n  margin: 0,\n  padding: 0,\n};\n\n// The index for the overlay layer\nconst Z_OVERLAY = 100;\n\nexport default class AbstractChartModifier extends Modifier {\n  chart: EChartsType | undefined;\n  resizeObserver: ResizeObserver | undefined;\n\n  get defaultStyles() {\n    return {\n      chart: {},\n      chartTitle: {\n        font: 'bold 20px Montserrat,sans-serif',\n        textAlign: 'center',\n        margin: 24,\n      },\n      legend: {\n        font: 'normal 16px Montserrat,sans-serif',\n        textAlign: 'left',\n        margin: 24,\n      },\n      xAxisZoom: {\n        margin: 8,\n        border: 'solid 1px #ddd',\n        backgroundColor: '#e7efff',\n      },\n      yAxisZoom: {\n        margin: 8,\n        border: 'solid 1px #ddd',\n        backgroundColor: '#e7efff',\n      },\n      cell: {\n        padding: 8,\n        margin: 8,\n      },\n      cellTitle: {\n        font: 'bold 16px Montserrat,sans-serif',\n        textAlign: 'left',\n        margin: 8,\n      },\n      cellTextOverlay: {\n        font: 'normal 16px Montserrat,sans-serif',\n        textAlign: 'center',\n        verticalAlign: 'middle',\n        zIndex: Z_OVERLAY,\n      },\n    };\n  }\n\n  constructor(...args: unknown[]) {\n    // @ts-expect-error: follow up on this\n    super(...args);\n\n    registerDestructor(this, () => this.cleanup());\n\n    if (this.constructor === AbstractChartModifier) {\n      throw new Error(\"AbstractChartModifier is abstract and can't be instantiated.\");\n    }\n  }\n  // @ts-expect-error: follow up on this\n  modify(element: HTMLElement, [args]: [ChartArgs], defaultArgs: ChartArgs, count = 0) {\n    if (!element.clientHeight || !element.clientWidth) {\n      // Escape hatch if the styling of this element doesn't allow it to have\n      // a size within its parent layout\n      if (count > 10) {\n        element.style.height = element.clientHeight ? `${element.clientHeight}px` : '400px';\n        element.style.width = element.clientWidth ? `${element.clientWidth}px` : '600px';\n      }\n\n      onElementResize(element, () => this.modify(element, [args], defaultArgs, count + 1), true);\n\n      return;\n    }\n\n    const chartArgs = { ...defaultArgs, ...args };\n\n    if (!this.chart) {\n      this.chart = this.createChart(element, chartArgs);\n    }\n\n    this.configureChart(chartArgs, this.chart, element);\n  }\n\n  configureChart(_args: ChartArgs, _chart: EChartsType, _element: HTMLElement) {\n    throw new Error('`configureChart` needs to be overridden. No implementation exists.');\n  }\n\n  createChart(element: HTMLElement, chartArgs: ChartArgs): EChartsType {\n    const chart = init(element, undefined, { renderer: 'canvas' });\n\n    // Initialize the chart model using default options so charts that need to\n    // access the locale via the model while being built can do so\n    chart.setOption({});\n\n    // Add a `handle` method that ensures only one event listener can be\n    // attached at the same time. This prevents mistakes when coding new charts\n    // of forgetting to `off` an event during a reconfigure and then having\n    // multiple handlers attached to the chart.\n    // @ts-expect-error: follow up on this\n    chart.handle = (eventName: string, ...args: unknown[]) => {\n      chart.off(eventName);\n      // @ts-expect-error: follow up on this\n      chart.on(eventName, ...args);\n    };\n\n    // Resize the chart whenever the containing element resizes\n    let firstResize = true;\n\n    this.resizeObserver = onElementResize(element, () => {\n      if (!firstResize) {\n        chart.resize();\n        this.configureChart(chartArgs, chart, element);\n      }\n\n      firstResize = false;\n    });\n\n    return chart;\n  }\n\n  /**\n   * Builds a basic layout for this chart, returning the `context` and `config`\n   * that can be used to extend the layout further.\n   *\n   * ECharts does not provide a layout engine, forcing chart configs to arrange\n   * components at exact components. This layout method uses the concept of a\n   * mutual `layout` info object that allows different components to dynamically\n   * calculate their size and position based on how other components are laid\n   * out.\n   */\n  buildLayout(args: ChartArgs, chart: EChartsType) {\n    const config: EChartsOptionWithAll = {};\n    const context = this.createContext(args, chart);\n\n    // These must be called in the order from outsidemost layout to innermost\n    context.layout = this.addChartBox(context, config);\n    context.layout = this.addTitle(context, config);\n    context.layout = this.addLegend(context, config);\n    context.layout = this.addDataZoom(context, config);\n    context.layout = this.addCellBoxes(context, config);\n    context.layout = this.addCellTitles(context, config);\n    context.layout = this.addCellPlots(context, config);\n    context.layout = this.addCellTextOverlays(context, config);\n\n    return {\n      context,\n      config,\n    };\n  }\n\n  cleanup() {\n    this.resizeObserver?.disconnect();\n    this.chart?.dispose();\n  }\n\n  // ---------------------------------------------------------------------------\n  // LAYOUT METHODS\n  // ---------------------------------------------------------------------------\n  /**\n   * Creates the context used when laying out elements on this chart.\n   */\n  createContext(args: ChartArgs, chart: EChartsType): Context {\n    const layout: Layout = {\n      chartWidth: chart.getWidth(),\n      chartHeight: chart.getHeight(),\n      width: chart.getWidth(),\n      height: chart.getHeight(),\n      x: 0,\n      y: 0,\n    };\n    const styles = transform(\n      Object.keys(this.defaultStyles),\n      (styles: Record<string, Style>, type: string) =>\n        (styles[type] = {\n          ...baseStyle,\n          // @ts-expect-error: follow up on this\n          ...this.defaultStyles[type],\n          // @ts-expect-error: follow up on this\n          ...args[`${type}Style`],\n        }),\n      {}\n    );\n\n    return {\n      layout,\n      args,\n      chart,\n      styles,\n      // @ts-expect-error: follow up on this\n      data: this.createContextData(args, chart),\n    };\n  }\n\n  /**\n   * Generates the `data` section of the context used to construct this chart.\n   */\n  createContextData(args: ChartArgs /*, chart: EChartsType */) {\n    const series = args.series ?? [{ data: args.data }];\n\n    return {\n      series,\n    };\n  }\n\n  /**\n   * Add the border and background of the chart.\n   */\n  addChartBox(context: Context, config: EChartsOptionWithAll) {\n    // @ts-expect-error: follow up on this\n    const style = resolveStyle(context.styles.chart, context.layout);\n\n    mergeAtPaths(\n      config,\n      this.generateBoxConfig({\n        ...style,\n        ...context.layout,\n      })\n    );\n\n    return {\n      ...context.layout,\n      ...computeInnerBox(context.layout, style),\n    };\n  }\n\n  /**\n   * Adds the title to `config` if defined in `args` and returns the new\n   * context.\n   */\n  addTitle(context: Context, config: EChartsOptionWithAll) {\n    const { title } = context.args;\n\n    if (!title) {\n      return context.layout;\n    }\n    // @ts-expect-error: follow up on this\n    const style = resolveStyle(context.styles.chartTitle, context.layout);\n\n    mergeAtPaths(config, [this.generateTitleConfig(title, context.layout, style)]);\n\n    const textHeight = computeTextHeight(style);\n\n    return {\n      ...context.layout,\n      height: context.layout.height - textHeight,\n      y: context.layout.y + textHeight,\n    };\n  }\n\n  /**\n   * Adds the legend to `config` if defined in `args` and returns the new\n   * context.\n   */\n  addLegend(context: Context, config: EChartsOptionWithAll) {\n    const { legend } = context.args;\n\n    if (!legend || legend === 'none') {\n      return context.layout;\n    }\n    // @ts-expect-error: follow up on this\n    const style = resolveStyle(context.styles.legend, context.layout);\n\n    mergeAtPaths(config, [\n      this.generateLegendConfig(context.data.series, context.args, context.layout, style),\n    ]);\n\n    const legendMetrics = this.computeLegendMetrics(context, config, style);\n    const newLayout = { ...context.layout };\n\n    if (legend.startsWith('top') || legend.startsWith('bottom')) {\n      newLayout.height -= legendMetrics.height;\n\n      if (legend.startsWith('top')) {\n        newLayout.y += legendMetrics.height;\n      }\n    } else {\n      newLayout.width -= legendMetrics.width;\n\n      if (legend.startsWith('left')) {\n        newLayout.x += legendMetrics.width;\n      }\n    }\n\n    return newLayout;\n  }\n\n  /**\n   * Adds the data zoom slider to `config` if defined in `args` and returns the\n   * new context.\n   */\n  addDataZoom(context: Context, config: EChartsOptionWithAll) {\n    const { args, layout, styles } = context;\n    const { xAxisZoom, yAxisZoom } = args;\n\n    if ((!xAxisZoom || xAxisZoom === 'none') && (!yAxisZoom || yAxisZoom === 'none')) {\n      return context.layout;\n    }\n    // @ts-expect-error: follow up on this\n    const xAxisZoomStyle = resolveStyle(styles.xAxisZoom, layout);\n    // @ts-expect-error: follow up on this\n    const yAxisZoomStyle = resolveStyle(styles.yAxisZoom, layout);\n\n    mergeAtPaths(config, [\n      // @ts-expect-error: follow up on this\n      this.generateXAxisDataZoomConfig(args, layout, xAxisZoomStyle),\n      // @ts-expect-error: follow up on this\n      this.generateYAxisDataZoomConfig(args, layout, yAxisZoomStyle),\n    ]);\n\n    const newLayout = { ...layout };\n    const { xAxisZoomBrush, yAxisZoomBrush } = args;\n\n    if (xAxisZoom) {\n      // @ts-expect-error: follow up on this\n      const sliderHeight = config.dataZoom?.[0]?.height ?? 30;\n      const brushSelectHeight = xAxisZoomBrush ? 7 : 0;\n      const xAxisZoomHeight =\n        sliderHeight + brushSelectHeight + xAxisZoomStyle.marginTop + xAxisZoomStyle.marginBottom;\n\n      newLayout.height = layout.height - xAxisZoomHeight;\n      newLayout.y = layout.y + (xAxisZoom === 'top' ? xAxisZoomHeight : 0);\n    }\n\n    if (yAxisZoom) {\n      const yAxisConfig = xAxisZoom ? config.dataZoom?.[1] : config.dataZoom?.[0];\n      // @ts-expect-error: follow up on this\n      const sliderWidth = yAxisConfig?.height ?? 30;\n      const brushSelectWidth = yAxisZoomBrush ? 7 : 0;\n      const yAxisZoomWidth =\n        sliderWidth + brushSelectWidth + yAxisZoomStyle.marginLeft + yAxisZoomStyle.marginRight;\n\n      newLayout.width = layout.width - yAxisZoomWidth;\n      newLayout.x = layout.x + (yAxisZoom === 'left' ? yAxisZoomWidth : 0);\n    }\n\n    return newLayout;\n  }\n\n  /**\n   * Add the border and background of the cells.\n   */\n  addCellBoxes(context: Context, config: EChartsOptionWithAll) {\n    mergeAtPaths(\n      config,\n      // @ts-expect-error: follow up on this\n      layoutCells(context, context.data.series, (info, cell) => this.generateBoxConfig(cell))\n    );\n\n    return context.layout;\n  }\n\n  /**\n   * Add the titles to individual cells.\n   */\n  addCellTitles(context: Context, config: EChartsOptionWithAll) {\n    const series = context.data.series;\n    // @ts-expect-error: follow up on this\n    if (series.length === 1 && !series[0].label && !series[0].name) {\n      return context.layout;\n    }\n    // @ts-expect-error: follow up on this\n    const style = resolveStyle(context.styles.cellTitle, context.layout);\n\n    mergeAtPaths(\n      config,\n      // @ts-expect-error: follow up on this\n      layoutCells(context, context.data.series, (info, cell) =>\n        this.generateTitleConfig(\n          info.label ?? info.name,\n          {\n            ...context.layout,\n            width: cell.width,\n            height: cell.height,\n            x: cell.innerX,\n            y: cell.innerY,\n          },\n          style\n        )\n      )\n    );\n\n    const textHeight = computeTextHeight(style) + style.marginTop + style.marginBottom;\n\n    return {\n      ...context.layout,\n      cell: {\n        ...context.layout.cell,\n        yOffset: textHeight,\n      },\n    };\n  }\n\n  /**\n   * Add the plots to individual cells.\n   */\n  addCellPlots(context: Context, config: EChartsOptionWithAll) {\n    // Ensure when using the `grid` config, the correct index is specified. This\n    // differs from `context.index` when a cell has no data (and so, no grid)\n    let gridIndex = 0;\n\n    mergeAtPaths(\n      config,\n      // @ts-expect-error: follow up on this\n      layoutCells(context, context.data.series, (info, cell) => {\n        // @ts-expect-error: follow up on this\n        const plotConfig = this.generatePlotConfig(info, cell, context, gridIndex);\n\n        if (plotConfig) {\n          gridIndex++;\n        }\n\n        return plotConfig;\n      })\n    );\n\n    return context.layout;\n  }\n\n  /**\n   * Add any cell overlays on top of the chart.\n   */\n  addCellTextOverlays(context: Context, config: EChartsOptionWithAll) {\n    // @ts-expect-error: follow up on this\n    if (!this.generateTextOverlayConfig) {\n      return context.layout;\n    }\n    // @ts-expect-error: follow up on this\n    const style = resolveStyle(context.styles.cellTextOverlay, context.layout);\n\n    mergeAtPaths(\n      config,\n      // @ts-expect-error: follow up on this\n      layoutCells(context, context.data.series, (info, cell) =>\n        // @ts-expect-error: follow up on this\n        this.generateTextOverlayConfig(info, context.args, cell, style)\n      )\n    );\n\n    return context.layout;\n  }\n\n  /**\n   * Returns the labels for the legend.\n   */\n  getLegendLabels(series: { data: unknown[] }[], args: ChartArgs) {\n    // @ts-expect-error: follow up on this\n    return getUniqueDatasetValues(series, args.categoryProperty ?? 'name');\n  }\n\n  /**\n   * Returns the orientation of the legend as either `horizontal` or `vertical`.\n   */\n  getLegendOrientation(args: ChartArgs) {\n    const { legend, legendOrientation } = args;\n    // @ts-expect-error: follow up on this\n    return !['horizontal', 'vertical'].includes(legendOrientation ?? '')\n      ? legend?.startsWith('top') || legend?.startsWith('bottom')\n        ? 'horizontal'\n        : 'vertical'\n      : legendOrientation;\n  }\n\n  /**\n   * Generates the configuration for the background and border of a box element.\n   */\n  generateBoxConfig(box: BoxConfig): GraphicConfig {\n    return {\n      'graphic.elements': [\n        {\n          type: 'rect',\n          top: box.y + box.marginTop,\n          left: box.x + box.marginLeft,\n          shape: {\n            // The stroke is drawn on the outside of the width and height for the\n            // bottom and right sides, so we need to make the box smaller to make it\n            // appear as if it's drawing on the inside\n            width:\n              box.width -\n              box.marginLeft -\n              box.marginRight -\n              box.borderLeftWidth -\n              box.borderRightWidth,\n            height:\n              box.height -\n              box.marginTop -\n              box.marginBottom -\n              box.borderTopWidth -\n              box.borderBottomWidth,\n          },\n          style: {\n            // `fill` can be missing, but cannot be not be `undefined` or the box\n            // will render a few pixels to the right and down [twl 2.Jun.22]\n            fill: box.backgroundColor ?? '#fff0',\n            // Safari only parses contituent values, so use \"top\" as a proxy for all\n            stroke: box.borderTopColor ?? '',\n            lineWidth: box.borderTopWidth ?? 0,\n          },\n          silent: true,\n        },\n      ],\n    };\n  }\n\n  /**\n   * Generates the configuration for a title element.\n   */\n  generateTitleConfig(text: string, layout: Layout, style: Style): EChartsOptionWithTitle {\n    const config: TitleConfig = {\n      text,\n      // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n      top: layout.y + style.marginTop,\n      // @ts-expect-error: Type 'string | number | undefined' is not assignable to type 'string | undefined'. Type 'number' is not assignable to type 'string'\n      backgroundColor: style.backgroundColor,\n      // Safari only parses contituent values, so use \"top\" as a proxy for all\n      // @ts-expect-error: Property 'borderTopWidth' comes from an index signature, so it must be accessed with ['borderTopWidth'].\n      borderWidth: style.borderTopWidth,\n      // @ts-expect-error: Property 'borderTopColor' comes from an index signature, so it must be accessed with ['borderTopColor']\n      borderColor: style.borderTopColor,\n      // @ts-expect-error: Property 'borderRadius' comes from an index signature, so it must be accessed with ['borderRadius'].\n      borderRadius: style.borderRadius,\n      // @ts-expect-error: Type 'string | number | undefined' is not assignable to type 'number'. Type 'undefined' is not assignable to type 'number'.\n      padding: [style.paddingTop, style.paddingRight, style.paddingBottom, style.paddingLeft],\n      textStyle: {\n        // @ts-expect-error: Property 'color' comes from an index signature, so it must be accessed with ['color']\n        color: style.color as string,\n        // @ts-expect-error: Property 'fontStyle' comes from an index signature, so it must be accessed with ['fontStyle']\n        fontStyle: style.fontStyle as string,\n        // @ts-expect-error: Property 'fontWeight' comes from an index signature, so it must be accessed with ['fontWeight']\n        fontWeight: style.fontWeight as string,\n        // @ts-expect-error: Property 'fontFamily' comes from an index signature, so it must be accessed with ['fontFamily']\n        fontFamily: style.fontFamily as string,\n        // @ts-expect-error: Property 'fontSize' comes from an index signature, so it must be accessed with ['fontSize']\n        fontSize: style.fontSize as number,\n      },\n    };\n    // @ts-expect-error: Property 'textAlign' comes from an index signature, so it must be accessed with ['textAlign'].\n    switch (style.textAlign) {\n      case 'center':\n        merge(config, {\n          left: layout.x + layout.width / 2,\n          textAlign: 'center',\n        });\n        break;\n\n      case 'right':\n        merge(config, {\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.glint(2365)\n          right: layout.chartWidth - (layout.x + layout.width) + style.marginRight,\n        });\n        break;\n\n      default:\n        merge(config, {\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.glint(2365)\n          left: layout.x + style.marginLeft,\n        });\n        break;\n    }\n\n    return {\n      // @ts-expect-error: follow up on this\n      title: [config],\n    };\n  }\n\n  /**\n   * Generates the configuration for a legend element.\n   */\n  generateLegendConfig(\n    series: { data: unknown[] }[],\n    args: ChartArgs,\n    layout: Layout,\n    style: Style\n  ): EChartsOptionWithLegend {\n    const { legend = 'topCenter' } = args;\n    const isVertical = this.getLegendOrientation(args) === 'vertical';\n    const config: LegendConfig = {\n      type: 'scroll',\n      data: this.getLegendLabels(series, args).map((label) => ({\n        name: label,\n        icon: 'circle',\n        itemStyle: {\n          color: args?.colorMap?.[label],\n        },\n      })),\n      itemGap: isVertical ? 15 : 40,\n      // @ts-expect-error: Property 'textAlign' comes from an index signature, so it must be accessed with ['textAlign'].glint(4111)\n      align: style.textAlign as string,\n      width: layout.width,\n      orient: isVertical ? 'vertical' : 'horizontal',\n      // @ts-expect-error: Property 'backgroundColor' comes from an index signature, so it must be accessed with ['backgroundColor'].glint(4111)\n      backgroundColor: style.backgroundColor as string,\n      // Safari only parses contituent values, so use \"top\" as a proxy for all\n      // @ts-expect-error: Property 'borderTopWidth' comes from an index signature, so it must be accessed with ['borderTopWidth'].glint(4111)\n      borderWidth: style.borderTopWidth as number,\n      // @ts-expect-error: Property 'borderTopColor' comes from an index signature, so it must be accessed with ['borderTopColor'].glint(4111)\n      borderColor: style.borderTopColor as string,\n      // @ts-expect-error: Property 'borderRadius' comes from an index signature, so it must be accessed with ['borderRadius'].glint(4111)\n      borderRadius: style.borderRadius as number,\n      // @ts-expect-error: return to this\n      padding: [style.paddingTop, style.paddingRight, style.paddingBottom, style.paddingLeft],\n      textStyle: {\n        // @ts-expect-error: Property 'color' comes from an index signature, so it must be accessed with ['color']\n        color: style.color as string,\n        // @ts-expect-error: Property 'fontStyle' comes from an index signature, so it must be accessed with ['fontStyle']\n        fontStyle: style.fontStyle as string,\n        // @ts-expect-error: Property 'fontWeight' comes from an index signature, so it must be accessed with ['fontWeight']\n        fontWeight: style.fontWeight as string,\n        // @ts-expect-error: Property 'fontFamily' comes from an index signature, so it must be accessed with ['fontFamily']\n        fontFamily: style.fontFamily as string,\n        // @ts-expect-error: Property 'fontSize' comes from an index signature, so it must be accessed with ['fontSize']\n        fontSize: style.fontSize as number,\n      },\n    };\n\n    let xLayout, yLayout;\n\n    if (legend.startsWith('top') || legend.endsWith('Top')) {\n      yLayout = {\n        // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n        top: layout.y + (style.marginTop as number) + (style.borderTopWidth as number) / 2,\n      };\n    } else if (legend.startsWith('bottom') || legend.endsWith('Bottom')) {\n      // NOTE: Not sure why I need the +1, but if it's missing and the legend\n      //       has a border, it overlaps the chart border. [twl 2.Nov.22]\n      yLayout = {\n        bottom:\n          layout.chartHeight -\n          layout.height -\n          layout.y +\n          1 +\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n          (style.marginBottom as number) +\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n          (style.borderBottomWidth as number) / 2,\n      };\n    } else {\n      // NOTE: Technically this positions the legend in the vertical center of\n      //       the full chart, rather than the remaining `height` in `layout`.\n      //       However, since positioning it correctly requires calculating the\n      //       rendered height of the legend, which is non-trivial, and we're\n      //       not currently using this option, I'm using this approximation\n      //       instead. [twl 2.Nov.22]\n      yLayout = {\n        top: 'middle',\n      };\n    }\n\n    if (legend.startsWith('left') || legend.endsWith('Left')) {\n      xLayout = {\n        // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n        left: layout.x + (style.marginLeft as number) + (style.borderLeftWidth as number) / 2,\n      };\n    } else if (legend.startsWith('right') || legend.endsWith('Right')) {\n      // NOTE: Not sure why I need the +1, but if it's missing and the legend\n      //       has a border, it overlaps the chart border. [twl 2.Nov.22]\n      xLayout = {\n        right:\n          layout.chartWidth -\n          layout.width -\n          layout.x +\n          1 +\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n          (style.marginRight as number) +\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n          (style.borderRightWidth as number) / 2,\n      };\n    } else {\n      xLayout = {\n        left: 'center',\n      };\n    }\n\n    merge(config, {\n      ...xLayout,\n      ...yLayout,\n    });\n\n    return {\n      // @ts-expect-error: follow up on this\n      legend: config,\n    };\n  }\n\n  /**\n   * Generates the configuration for the control that allows a user to zoom in\n   * and out of the data.\n   */\n  generateXAxisDataZoomConfig(\n    args: ChartArgs,\n    layout: Layout,\n    style: Style\n  ): EChartsOptionWithDataZoom | undefined {\n    const { xAxisZoom, xAxisZoomBrush } = args;\n\n    if (!xAxisZoom) {\n      return undefined;\n    }\n    // @ts-expect-error: follow up on this\n    const config = this.generateDataZoomConfigElement(style, xAxisZoomBrush);\n    const brushSelectHeight = xAxisZoomBrush ? 7 : 0;\n\n    if (xAxisZoom === 'top') {\n      // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n      config.top = layout.y + (style.marginTop as number) + (style.borderTopWidth as number) / 2;\n    } else {\n      config.bottom =\n        layout.chartHeight -\n        layout.height -\n        layout.y +\n        brushSelectHeight +\n        // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n        (style.marginBottom as number) +\n        // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n        (style.borderBottomWidth as number) / 2;\n    }\n\n    return {\n      dataZoom: [\n        {\n          ...config,\n          xAxisIndex: [0, 1],\n        },\n        // TODO: Add support for mouse zooming by adding this in. When we do\n        //       this, the index in `addDataZoom` for the Y axis will need to\n        //       be changed. Also, we should have a way to disable it or turn it\n        //       on explicitly, since it can be jerky on some charts (which is\n        //       why I'm not implementing it now). [twl 16.Nov.22]\n        // {\n        //   type: 'inside',\n        //   start: 0,\n        //   end: 100,\n        //   xAxisIndex: [0, 1],\n        // },\n      ],\n    };\n  }\n\n  /**\n   * Generates the configuration for the control that allows a user to zoom in\n   * and out of the data.\n   */\n  generateYAxisDataZoomConfig(\n    args: ChartArgs,\n    layout: Layout,\n    style: Style\n  ): EChartsOptionWithDataZoom | undefined {\n    const { yAxisZoom, yAxisZoomBrush } = args;\n\n    if (!yAxisZoom) {\n      return undefined;\n    }\n    // @ts-expect-error: follow up on this\n    const config = this.generateDataZoomConfigElement(style, yAxisZoomBrush);\n    const brushSelectWidth = yAxisZoomBrush ? 7 : 0;\n\n    if (yAxisZoom === 'left') {\n      // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n      config.left = layout.x + (style.marginLeft as number) + (style.borderLeftWidth as number) / 2;\n    } else {\n      config.right =\n        layout.chartWidth -\n        layout.width -\n        layout.x +\n        brushSelectWidth +\n        // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n        (style.marginRight as number) +\n        // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n        (style.borderRightWidth as number) / 2;\n    }\n\n    return {\n      dataZoom: [\n        {\n          ...config,\n          yAxisIndex: [0, 1],\n        },\n        // TODO: See the note in `generateXAxisDataZoomConfig` [twl 16.Nov.22]\n        // {\n        //   type: 'inside',\n        //   start: 0,\n        //   end: 100,\n        //   yAxisIndex: [0, 1],\n        // },\n      ],\n    };\n  }\n\n  /**\n   * Generates the base configuration for a single element in the `dataZoom`\n   * configuration.\n   */\n  generateDataZoomConfigElement(style: Style, brushSelect: boolean): DataZoomConfig {\n    return {\n      type: 'slider',\n      brushSelect,\n      // @ts-expect-error: follow up on this\n      borderColor: style.borderTopColor as string,\n      show: true,\n      start: 0,\n      end: 100,\n    };\n  }\n\n  /**\n   * Generates the configuration for a text element.\n   */\n  generateTextConfig(text: string, layout: Layout, style: Style): EChartsOptionWithGraphic {\n    // @ts-expect-error: follow up on this\n    const metrics = computeTextMetrics(text, style);\n    const config: TextConfig = {\n      type: 'text',\n      style: {\n        // @ts-expect-error: follow up on this\n        font: `${style.fontStyle} ${style.fontWeight} ${style.fontSize}px ${style.fontFamily}`,\n        // @ts-expect-error: follow up on this\n        fill: style.color as string,\n        text,\n      },\n      silent: true,\n      // @ts-expect-error: follow up on this\n      z: style.zIndex as number,\n      // TODO: Support these properties by allowing multiple graphics objects to\n      //       be returned from this method and then returning both a `text` and\n      //       a `rect` element. [twl 7.Jun.22]\n      //\n      // backgroundColor: style.backgroundColor,\n      // // Safari only parses contituent values, so use \"top\" as a proxy for all\n      // borderWidth: style.borderTopWidth,\n      // borderColor: style.borderTopColor,\n      // borderRadius: style.borderRadius,\n      // padding: [\n      //   style.paddingTop,\n      //   style.paddingRight,\n      //   style.paddingBottom,\n      //   style.paddingLeft,\n      // ],\n    };\n    // @ts-expect-error: follow up on this\n    switch (style.textAlign) {\n      case 'center':\n        merge(config, {\n          left: layout.x + layout.width / 2 - metrics.width / 2,\n        });\n        break;\n\n      case 'right':\n        merge(config, {\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n          right: layout.chartWidth - (layout.x + layout.width) + style.marginRight,\n        });\n        break;\n\n      default:\n        merge(config, {\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n          left: layout.x + style.marginLeft,\n        });\n        break;\n    }\n    // @ts-expect-error: follow up on this\n    switch (style.verticalAlign) {\n      case 'middle':\n        merge(config, {\n          top: layout.y + layout.height / 2 - metrics.height / 2,\n        });\n        break;\n\n      case 'bottom':\n        merge(config, {\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n          bottom: layout.y + layout.height - style.marginBottom,\n        });\n        break;\n\n      default:\n        merge(config, {\n          // @ts-expect-error: Operator '+' cannot be applied to types 'number' and 'string | number'.\n          top: layout.y + style.marginTop,\n        });\n        break;\n    }\n\n    return {\n      'graphic.elements': [config],\n    };\n  }\n\n  /**\n   * Computes the width and height of the legend, after the legend has been\n   * added into the `config` using the compiled legend `style`.\n   */\n  computeLegendMetrics(context: Context, config: EChartsOptionWithAll, style: Style) {\n    const { layout, data, args } = context;\n    const labels = this.getLegendLabels(data.series, args);\n    const orientation = this.getLegendOrientation(args);\n    // hardcoded values are the defaults for `itemWidth` and `itemGap`\n    const markerWidth = config.legend?.itemWidth ?? 25;\n    const itemGap = config.legend?.itemGap ?? 10;\n    // Divide by 2 on border, since it appears to be drawn at the end of the\n    // legend rather than inside or outside the legend\n    const metrics = {\n      width:\n        // @ts-expect-error: Property 'paddingLeft' comes from an index signature, so it must be accessed with ['paddingLeft'].glint(4111)\n        (style.paddingLeft as number) +\n        // @ts-expect-error: Property 'paddingRight' comes from an index signature, so it must be accessed with ['paddingRight'].glint(4111)\n        (style.paddingRight as number) +\n        // @ts-expect-error: Property 'borderLeftWidth' comes from an index signature, so it must be accessed with ['borderLeftWidth'].glint(4111)\n        (style.borderLeftWidth as number) / 2 +\n        // @ts-expect-error: Property 'borderRightWidth' comes from an index signature, so it must be accessed with ['borderRightWidth'].glint(4111)\n        (style.borderRightWidth as number) / 2 +\n        // @ts-expect-error: Property 'marginLeft' comes from an index signature, so it must be accessed with ['marginLeft'].glint(4111)\n        (style.marginLeft as number) +\n        // @ts-expect-error: Property 'marginRight' comes from an index signature, so it must be accessed with ['marginRight'].glint(4111)\n        (style.marginRight as number),\n      height:\n        // @ts-expect-error: Property 'paddingTop' comes from an index signature, so it must be accessed with ['paddingTop']\n        (style.paddingTop as number) +\n        // @ts-expect-error: Property 'paddingBottom' comes from an index signature, so it must be accessed with ['paddingBottom']\n        (style.paddingBottom as number) +\n        // @ts-expect-error: Property 'borderTopWidth' comes from an index signature, so it must be accessed with ['borderTopWidth']\n        (style.borderTopWidth as number) / 2 +\n        // @ts-expect-error: Property 'borderBottomWidth' comes from an index signature, so it must be accessed with ['borderBottomWidth']\n        (style.borderBottomWidth as number) / 2 +\n        // @ts-expect-error: Property 'marginTop' comes from an index signature, so it must be accessed with ['marginTop']\n        (style.marginTop as number) +\n        // @ts-expect-error: Property 'marginBottom' comes from an index signature, so it must be accessed with ['marginBottom']\n        (style.marginBottom as number),\n    };\n\n    if (orientation === 'horizontal') {\n      const labelMetrics = labels.reduce(\n        (result, label) => {\n          // @ts-expect-error: follow up on this\n          const textMetrics = computeTextMetrics(label, style);\n\n          result.width += markerWidth + textMetrics.width;\n          result.height = Math.max(result.height, textMetrics.height);\n\n          return result;\n        },\n        { width: 0, height: 0 }\n      );\n\n      metrics.width = Math.min(\n        layout.width,\n        metrics.width + labelMetrics.width + itemGap * (labels.length - 1)\n      );\n      metrics.height = metrics.height + labelMetrics.height;\n    } else {\n      const labelMetrics = computeMaxTextMetrics(labels, style, layout.width);\n\n      metrics.width = metrics.width + markerWidth + labelMetrics.width;\n      metrics.height =\n        metrics.height + labelMetrics.height * labels.length + itemGap * (labels.length - 1);\n    }\n\n    return metrics;\n  }\n}\n"],"names":["use","CanvasRenderer","TitleComponent","LegendComponent","GridComponent","TooltipComponent","DataZoomComponent","GraphicComponent","LineChart","BarChart","PieChart","TreeChart","GraphChart","baseStyle","border","font","color","margin","padding","Z_OVERLAY","AbstractChartModifier","Modifier","chart","resizeObserver","defaultStyles","chartTitle","textAlign","legend","xAxisZoom","backgroundColor","yAxisZoom","cell","cellTitle","cellTextOverlay","verticalAlign","zIndex","constructor","args","registerDestructor","cleanup","Error","modify","element","defaultArgs","count","clientHeight","clientWidth","style","height","width","onElementResize","chartArgs","createChart","configureChart","_args","_chart","_element","init","undefined","renderer","setOption","handle","eventName","off","on","firstResize","resize","buildLayout","config","context","createContext","layout","addChartBox","addTitle","addLegend","addDataZoom","addCellBoxes","addCellTitles","addCellPlots","addCellTextOverlays","disconnect","dispose","chartWidth","getWidth","chartHeight","getHeight","x","y","styles","transform","Object","keys","type","data","createContextData","series","resolveStyle","mergeAtPaths","generateBoxConfig","computeInnerBox","title","generateTitleConfig","textHeight","computeTextHeight","generateLegendConfig","legendMetrics","computeLegendMetrics","newLayout","startsWith","xAxisZoomStyle","yAxisZoomStyle","generateXAxisDataZoomConfig","generateYAxisDataZoomConfig","xAxisZoomBrush","yAxisZoomBrush","sliderHeight","dataZoom","brushSelectHeight","xAxisZoomHeight","marginTop","marginBottom","yAxisConfig","sliderWidth","brushSelectWidth","yAxisZoomWidth","marginLeft","marginRight","layoutCells","info","length","label","name","innerX","innerY","yOffset","gridIndex","plotConfig","generatePlotConfig","generateTextOverlayConfig","getLegendLabels","getUniqueDatasetValues","categoryProperty","getLegendOrientation","legendOrientation","includes","box","top","left","shape","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","fill","stroke","borderTopColor","lineWidth","silent","text","borderWidth","borderColor","borderRadius","paddingTop","paddingRight","paddingBottom","paddingLeft","textStyle","fontStyle","fontWeight","fontFamily","fontSize","merge","right","isVertical","map","icon","itemStyle","colorMap","itemGap","align","orient","xLayout","yLayout","endsWith","bottom","generateDataZoomConfigElement","xAxisIndex","yAxisIndex","brushSelect","show","start","end","generateTextConfig","metrics","computeTextMetrics","z","labels","orientation","markerWidth","itemWidth","labelMetrics","reduce","result","textMetrics","Math","max","min","computeMaxTextMetrics"],"mappings":"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"}