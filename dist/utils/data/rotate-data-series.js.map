{"version":3,"file":"rotate-data-series.js","sources":["../../../src/utils/data/rotate-data-series.ts"],"sourcesContent":["// @ts-expect-error: remove lodash\nimport { omit } from 'lodash-es';\nimport getUniqueDatasetValues from './get-unique-dataset-values.ts';\n\n/**\n * Rotates the data series so the data elements in each series become series\n * themselves and the data series become elements within those series.\n *\n * Essentially, if `data` represents a 2-dimensional data set with rows and\n * columns that has been rendered into a hierarchy where each row is a series\n * and the data within each series are the columns in those rows, this swaps the\n * rows for the columns.\n *\n * @param {object[]} data             An array of data objects\n * @param {string}   categoryProperty The name of the property in each data\n *                                    object that represents the category\n * @param {string}   valueProperty    The name of the property in each data\n *                                    object that represents the value\n *\n * @return {object[]} data An array of data objects\n */\n// @ts-expect-error: not sure\nconst rotateDataSeries = (data, categoryProperty: string, valueProperty: string) =>\n  getUniqueDatasetValues(data, categoryProperty).map((label) => ({\n    label,\n    // @ts-expect-error: not sure\n    data: data.map((series) => {\n      // @ts-expect-error: not sure\n      const item = series.data.find((item) => item[categoryProperty] === label);\n\n      return !item\n        ? undefined\n        : {\n            [categoryProperty]: series.label,\n            [valueProperty]: item[valueProperty],\n            ...omit(series, 'data', 'label'),\n          };\n    }),\n  }));\n\nexport default rotateDataSeries;\n"],"names":["rotateDataSeries","data","categoryProperty","valueProperty","getUniqueDatasetValues","map","label","series","item","find","undefined","omit"],"mappings":";;;AAAA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,gBAAgB,GAAGA,CAACC,IAAI,EAAEC,gBAAwB,EAAEC,aAAqB,KAC7EC,sBAAsB,CAACH,IAAI,EAAEC,gBAAgB,CAAC,CAACG,GAAG,CAAEC,KAAK,KAAM;EAC7DA,KAAK;AACL;AACAL,EAAAA,IAAI,EAAEA,IAAI,CAACI,GAAG,CAAEE,MAAM,IAAK;AACzB;AACA,IAAA,MAAMC,IAAI,GAAGD,MAAM,CAACN,IAAI,CAACQ,IAAI,CAAED,IAAI,IAAKA,IAAI,CAACN,gBAAgB,CAAC,KAAKI,KAAK,CAAC,CAAA;AAEzE,IAAA,OAAO,CAACE,IAAI,GACRE,SAAS,GACT;AACE,MAAA,CAACR,gBAAgB,GAAGK,MAAM,CAACD,KAAK;AAChC,MAAA,CAACH,aAAa,GAAGK,IAAI,CAACL,aAAa,CAAC;AACpC,MAAA,GAAGQ,IAAI,CAACJ,MAAM,EAAE,MAAM,EAAE,OAAO,CAAA;KAChC,CAAA;GACN,CAAA;AACH,CAAC,CAAC;;;;"}