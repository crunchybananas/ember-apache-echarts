{"version":3,"file":"merge-at.js","sources":["../../src/utils/merge-at.ts"],"sourcesContent":["// @ts-expect-error: remove lodash\nimport { get, set } from 'lodash-es';\n\n/**\n * Merges the existing value at `path` within `object` with the `value`, if\n * both are either an object or an array.\n *\n * @param {object}       object The object\n * @param {string}       path   The path to the property to merge\n * @param {object|Array} value  The value to merge in. Array elements are\n *                              appended at the end, and object properties for\n *                              `value` override existing properties\n */\nexport default function mergeAt(object: Record<string, unknown>, path: string, value: unknown) {\n  if (!value) {\n    return;\n  }\n\n  const existingValue = get(object, path);\n\n  if (!existingValue) {\n    set(object, path, value);\n  } else if (Array.isArray(value) && Array.isArray(existingValue)) {\n    set(object, path, [...existingValue, ...value]);\n  } else if (typeof value === 'object' && typeof existingValue === 'object') {\n    set(object, path, Object.assign({}, existingValue, value));\n  } else {\n    throw new Error(`The value at ${path} cannot be merged. It must be an object or array.`);\n  }\n}\n"],"names":["mergeAt","object","path","value","existingValue","get","set","Array","isArray","Object","assign","Error"],"mappings":";;AAAA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,OAAOA,CAACC,MAA+B,EAAEC,IAAY,EAAEC,KAAc,EAAE;EAC7F,IAAI,CAACA,KAAK,EAAE;AACV,IAAA,OAAA;AACF,GAAA;AAEA,EAAA,MAAMC,aAAa,GAAGC,GAAG,CAACJ,MAAM,EAAEC,IAAI,CAAC,CAAA;EAEvC,IAAI,CAACE,aAAa,EAAE;AAClBE,IAAAA,GAAG,CAACL,MAAM,EAAEC,IAAI,EAAEC,KAAK,CAAC,CAAA;AAC1B,GAAC,MAAM,IAAII,KAAK,CAACC,OAAO,CAACL,KAAK,CAAC,IAAII,KAAK,CAACC,OAAO,CAACJ,aAAa,CAAC,EAAE;AAC/DE,IAAAA,GAAG,CAACL,MAAM,EAAEC,IAAI,EAAE,CAAC,GAAGE,aAAa,EAAE,GAAGD,KAAK,CAAC,CAAC,CAAA;GAChD,MAAM,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,OAAOC,aAAa,KAAK,QAAQ,EAAE;AACzEE,IAAAA,GAAG,CAACL,MAAM,EAAEC,IAAI,EAAEO,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEN,aAAa,EAAED,KAAK,CAAC,CAAC,CAAA;AAC5D,GAAC,MAAM;AACL,IAAA,MAAM,IAAIQ,KAAK,CAAC,CAAgBT,aAAAA,EAAAA,IAAI,mDAAmD,CAAC,CAAA;AAC1F,GAAA;AACF;;;;"}